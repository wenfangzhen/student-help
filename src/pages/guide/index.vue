<template>
  <view class="guide-page">
    <!-- È°µÈù¢Â§¥ÈÉ® -->
    <view class="page-header">
      <view class="container">
        <text class="page-title">ÂÖ•Â≠¶ÊåáÂçó</text>
        <text class="page-subtitle">‰∏∫Êñ∞ÁîüÊèê‰æõÂÖ®Êñπ‰ΩçÂÖ•Â≠¶ÊåáÂºï</text>
      </view>
    </view>

    <!-- ÊåáÂçóÂàÜÁ±ª -->
    <view class="guide-categories">
      <view class="container">
        <view class="categories-grid">
          <view 
            v-for="category in categories" 
            :key="category.id"
            class="category-item card card-hover"
            @click="viewCategory(category)"
          >
            <view class="category-icon">{{ category.icon }}</view>
            <text class="category-title">{{ category.title }}</text>
            <text class="category-desc">{{ category.description }}</text>
            <text class="category-count">{{ category.count }}È°πÂÜÖÂÆπ</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ÁÉ≠Èó®ÊåáÂçó -->
    <view class="popular-guides">
      <view class="container">
        <text class="section-title">ÁÉ≠Èó®ÊåáÂçó</text>
        <view class="guides-list">
          <view 
            v-for="guide in popularGuides" 
            :key="guide.id"
            class="guide-item card card-hover"
            @click="viewGuide(guide)"
          >
            <image class="guide-image" :src="guide.image" mode="aspectFill" />
            <view class="guide-content">
              <text class="guide-title">{{ guide.title }}</text>
              <text class="guide-summary">{{ guide.summary }}</text>
              <view class="guide-meta">
                <text class="guide-category">{{ guide.category }}</text>
                <text class="guide-views">{{ guide.views }}Ê¨°ÊµèËßà</text>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- Âø´ÈÄüÈìæÊé• -->
    <view class="quick-links">
      <view class="container">
        <text class="section-title">Âø´ÈÄüÈìæÊé•</text>
        <view class="links-grid">
          <view 
            v-for="link in quickLinks" 
            :key="link.id"
            class="link-item"
            @click="openLink(link)"
          >
            <view class="link-icon">{{ link.icon }}</view>
            <text class="link-title">{{ link.title }}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const categories = ref([
  {
    id: 1,
    title: 'ÂÖ•Â≠¶ÂáÜÂ§á',
    description: 'ËØÅ‰ª∂ÊùêÊñô„ÄÅÁîüÊ¥ªÁî®ÂìÅÊ∏ÖÂçï',
    icon: 'üìã',
    count: 15
  },
  {
    id: 2,
    title: 'Êä•Âà∞ÊµÅÁ®ã',
    description: 'ËØ¶ÁªÜÁöÑÊä•Âà∞Ê≠•È™§ÊåáÂºï',
    icon: 'üìç',
    count: 8
  },
  {
    id: 3,
    title: 'Ê†°Âõ≠ÂØºËà™',
    description: 'Ê†°Âõ≠Âú∞Âõæ„ÄÅÂª∫Á≠ë‰ΩçÁΩÆ',
    icon: 'üó∫Ô∏è',
    count: 12
  },
  {
    id: 4,
    title: 'ÁîüÊ¥ªÊåáÂçó',
    description: '‰ΩèÂÆø„ÄÅÈ§êÈ•Æ„ÄÅË¥≠Áâ©ÊåáÂçó',
    icon: 'üè†',
    count: 20
  },
  {
    id: 5,
    title: 'Â≠¶‰π†ÊåáÂØº',
    description: 'ÈÄâËØæ„ÄÅÂõæ‰π¶È¶Ü‰ΩøÁî®ÊåáÂçó',
    icon: 'üìö',
    count: 18
  },
  {
    id: 6,
    title: 'ÂÆâÂÖ®È°ªÁü•',
    description: 'Ê†°Âõ≠ÂÆâÂÖ®„ÄÅÈò≤ËØàÈ™óÊåáÂçó',
    icon: 'üõ°Ô∏è',
    count: 10
  }
])

const popularGuides = ref([
  {
    id: 1,
    title: 'Êñ∞ÁîüÂÖ•Â≠¶ÂøÖÂ§áÁâ©ÂìÅÊ∏ÖÂçï',
    summary: 'ËØ¶ÁªÜÂàóÂá∫Êñ∞ÁîüÂÖ•Â≠¶ÈúÄË¶ÅÂáÜÂ§áÁöÑÂêÑÁ±ªÁâ©ÂìÅÔºåÈÅøÂÖçÈÅóÊºèÈáçË¶ÅÁâ©ÂìÅ',
    category: 'ÂÖ•Â≠¶ÂáÜÂ§á',
    views: 15420,
    image: 'https://images.pexels.com/photos/159711/books-bookstore-book-reading-159711.jpeg?auto=compress&cs=tinysrgb&w=400'
  },
  {
    id: 2,
    title: 'Â§ßÂ≠¶Êä•Âà∞ÊµÅÁ®ãËØ¶Ëß£',
    summary: '‰ªéÂà∞ËææÂ≠¶Ê†°Âà∞ÂÆåÊàêÊä•Âà∞ÁöÑÂÆåÊï¥ÊµÅÁ®ãÔºåËÆ©‰Ω†ËΩªÊùæÂÆåÊàêÂÖ•Â≠¶ÊâãÁª≠',
    category: 'Êä•Âà∞ÊµÅÁ®ã',
    views: 12350,
    image: 'https://images.pexels.com/photos/1438072/pexels-photo-1438072.jpeg?auto=compress&cs=tinysrgb&w=400'
  },
  {
    id: 3,
    title: 'Ê†°Âõ≠ÁîüÊ¥ªÂÖ®ÊîªÁï•',
    summary: 'Ê∂µÁõñ‰ΩèÂÆø„ÄÅÈ§êÈ•Æ„ÄÅÂ≠¶‰π†„ÄÅÂ®±‰πêÁ≠âÂêÑ‰∏™ÊñπÈù¢ÁöÑÊ†°Âõ≠ÁîüÊ¥ªÊåáÂçó',
    category: 'ÁîüÊ¥ªÊåáÂçó',
    views: 18760,
    image: 'https://images.pexels.com/photos/1205651/pexels-photo-1205651.jpeg?auto=compress&cs=tinysrgb&w=400'
  },
  {
    id: 4,
    title: 'ÈÄâËØæÊåáÂçó‰∏éÂ≠¶‰π†ËßÑÂàí',
    summary: 'Â¶Ç‰ΩïÈÄâÊã©ÈÄÇÂêàÁöÑËØæÁ®ãÔºåÂà∂ÂÆöÂêàÁêÜÁöÑÂ≠¶‰π†ËÆ°Âàí',
    category: 'Â≠¶‰π†ÊåáÂØº',
    views: 9840,
    image: 'https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg?auto=compress&cs=tinysrgb&w=400'
  }
])

const quickLinks = ref([
  { id: 1, title: 'Ê†°ÂéÜÊü•ËØ¢', icon: 'üìÖ' },
  { id: 2, title: 'ËØæÁ®ãË°®', icon: 'üìä' },
  { id: 3, title: 'ÊàêÁª©Êü•ËØ¢', icon: 'üìà' },
  { id: 4, title: 'Âõæ‰π¶È¶Ü', icon: 'üìñ' },
  { id: 5, title: 'Ê†°Âõ≠Âç°', icon: 'üí≥' },
  { id: 6, title: 'Âú®Á∫øÊúçÂä°', icon: 'üíª' }
])

const viewCategory = (category: any) => {
  uni.showToast({
    title: `${category.title}ÂäüËÉΩÂºÄÂèë‰∏≠`,
    icon: 'none'
  })
}

const viewGuide = (guide: any) => {
  uni.showToast({
    title: 'ÊåáÂçóËØ¶ÊÉÖÂäüËÉΩÂºÄÂèë‰∏≠',
    icon: 'none'
  })
}

const openLink = (link: any) => {
  uni.showToast({
    title: `${link.title}ÂäüËÉΩÂºÄÂèë‰∏≠`,
    icon: 'none'
  })
}
</script>

<style lang="scss" scoped>
.guide-page {
  min-height: 100vh;
  background: var(--background);
}

.page-header {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: white;
  padding: 48rpx 0;
  text-align: center;
  
  .page-title {
    font-size: 48rpx;
    font-weight: 700;
    display: block;
    margin-bottom: 16rpx;
  }
  
  .page-subtitle {
    font-size: 28rpx;
    opacity: 0.9;
    display: block;
  }
}

.guide-categories {
  padding: 48rpx 0;
  
  .categories-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300rpx, 1fr));
    gap: 24rpx;
    
    @media (max-width: 750px) {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .category-item {
      text-align: center;
      padding: 40rpx 24rpx;
      
      .category-icon {
        font-size: 64rpx;
        margin-bottom: 16rpx;
        display: block;
      }
      
      .category-title {
        font-size: 32rpx;
        font-weight: 600;
        color: var(--text-primary);
        display: block;
        margin-bottom: 8rpx;
      }
      
      .category-desc {
        font-size: 24rpx;
        color: var(--text-secondary);
        line-height: 1.4;
        display: block;
        margin-bottom: 12rpx;
      }
      
      .category-count {
        font-size: 22rpx;
        color: var(--text-muted);
        display: block;
      }
    }
  }
}

.popular-guides {
  padding: 48rpx 0;
  background: white;
  
  .section-title {
    font-size: 36rpx;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 32rpx;
    display: block;
  }
  
  .guides-list {
    display: flex;
    flex-direction: column;
    gap: 24rpx;
    
    .guide-item {
      display: flex;
      gap: 24rpx;
      padding: 24rpx;
      
      .guide-image {
        width: 160rpx;
        height: 120rpx;
        border-radius: 12rpx;
        flex-shrink: 0;
      }
      
      .guide-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 8rpx;
        
        .guide-title {
          font-size: 28rpx;
          font-weight: 600;
          color: var(--text-primary);
          line-height: 1.3;
        }
        
        .guide-summary {
          font-size: 24rpx;
          color: var(--text-secondary);
          line-height: 1.4;
          flex: 1;
        }
        
        .guide-meta {
          display: flex;
          justify-content: space-between;
          font-size: 22rpx;
          color: var(--text-muted);
        }
      }
    }
  }
}

.quick-links {
  padding: 48rpx 0;
  
  .section-title {
    font-size: 36rpx;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 32rpx;
    display: block;
  }
  
  .links-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24rpx;
    
    @media (max-width: 750px) {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .link-item {
      background: white;
      padding: 32rpx 24rpx;
      border-radius: 16rpx;
      text-align: center;
      box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);
      transition: all 0.3s ease;
      
      &:hover {
        transform: translateY(-4rpx);
        box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.12);
      }
      
      .link-icon {
        font-size: 48rpx;
        margin-bottom: 16rpx;
        display: block;
      }
      
      .link-title {
        font-size: 26rpx;
        color: var(--text-primary);
        font-weight: 500;
        display: block;
      }
    }
  }
}
</style>